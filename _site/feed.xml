<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2022-04-26T16:22:09-06:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Thomas Croft</title><subtitle>My personal site. For now it's just a blog, but I have greater things in mind.</subtitle><entry><title type="html">Setting up Jekyll with opendoas</title><link href="http://localhost:4000/jekyll/update/2022/04/26/jekyll-setup-doas.html" rel="alternate" type="text/html" title="Setting up Jekyll with opendoas" /><published>2022-04-26T14:05:26-06:00</published><updated>2022-04-26T14:05:26-06:00</updated><id>http://localhost:4000/jekyll/update/2022/04/26/jekyll-setup-doas</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2022/04/26/jekyll-setup-doas.html">&lt;h2 id=&quot;the-story&quot;&gt;The Story&lt;/h2&gt;

&lt;p&gt;I recently bought a domain, and decided to setup a blog with github pages. During setup I ran into some interesting problems with doas, a minimal replacment for sudo. Bundle the ruby package manager kept trying to install gems to system directories, and when trying to call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo -K&lt;/code&gt; failed due to the fact that I symlinked my sudo binary to doas, and doas dosen’t have that specific flag. The fix, well upon reading currently github-pages dosen’t support ruby 3.0.0, so I installed rbenv from the aur. &lt;a href=&quot;https://github.com/rbenv/rbenv&quot;&gt;Rbenv&lt;/a&gt; manages ruby versions and paths, and by following the &lt;a href=&quot;https://github.com/rbenv/rbenv#installation&quot;&gt;install&lt;/a&gt; guide you can fix the problems with ruby versions.&lt;/p&gt;

&lt;h2 id=&quot;the-actual-fix&quot;&gt;The Actual Fix&lt;/h2&gt;

&lt;h3 id=&quot;prerequsites&quot;&gt;Prerequsites&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;rbenv&lt;/li&gt;
  &lt;li&gt;text editor&lt;/li&gt;
  &lt;li&gt;some patience&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ok&quot;&gt;Ok…&lt;/h3&gt;

&lt;p&gt;So.. Now the good stuff. Create a repo on GitHub named &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;your-username.github.io&lt;/code&gt;, and clone it to a local directory with:&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git clone https://github.com/your-username/your-username.github.io&lt;/code&gt;&lt;br /&gt;
Once that’s complete, run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rbenv install version&lt;/code&gt; with version being a version of ruby (I used 2.7.6). Then set the project specific ruby version by typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ruby local 2.7.6&lt;/code&gt;. This creates a .ruby-version file and sets the local version. Now that you have ruby install Jekyll and Bundler with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gem install jekyll bundle&lt;/code&gt; in your project root. After they install create a new Jekyll site with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jekyll --skip-bundle new .&lt;/code&gt;. and open the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt; in your choice of editor. Comment the line that says &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gem jekyll ...&lt;/code&gt; and uncomment the line contaning &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gem github-pages&lt;/code&gt;. Close that file and open &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; and edit accordingly. Once you’re finished install and serve the site locally with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle exec jekyll serve&lt;/code&gt;. If you visit http://localhost:4000/ you should see your site. Now to edit your first post, open the file in _posts, and write. Jekyll uses &lt;a href=&quot;https://www.markdownguide.org/basic-syntax/&quot;&gt;markdown&lt;/a&gt; for creating posts. To publish the site to Github Pages, type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git add .&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git commit -m 'Message',&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git push&lt;/code&gt;.&lt;br /&gt;
Now that that’s done go to github and open the repository we created and click the repository settings, and navigate to the pages option. Click publish and you’re good to go. If you navigate to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://your-username.github.io&lt;/code&gt; you should see your site.&lt;/p&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">The Story</summary></entry></feed>